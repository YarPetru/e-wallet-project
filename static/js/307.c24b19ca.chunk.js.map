{"version":3,"file":"static/js/307.c24b19ca.chunk.js","mappings":"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","sources":["webpack://e-wallet-project/./src/components/NewCardForm/NewCardForm.module.scss?1b8e","components/NewCardForm/NewCardForm.jsx","pages/AddCardPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"NewCardForm_form__d36Sw\",\"fieldWrapper\":\"NewCardForm_fieldWrapper__BhHdC\",\"input\":\"NewCardForm_input__2PBNi\",\"errorMessage\":\"NewCardForm_errorMessage__XxiXd\",\"buttonsWrapper\":\"NewCardForm_buttonsWrapper__RBGDf\",\"formBtn\":\"NewCardForm_formBtn__ShhKG\",\"cancelBtn\":\"NewCardForm_cancelBtn__X5gDj\"};","import { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\n\nimport { useDispatch, useSelector } from 'react-redux/es/exports';\nimport Title from 'components/Title';\nimport * as reduxActions from 'redux/actions';\nimport s from './NewCardForm.module.scss';\n\nyup.addMethod(yup.string, 'integer', function () {\n  return this.matches(/^\\d+$/, 'The field should have digits only');\n});\n\nconst schema = yup.object().shape({\n  cardNumber: yup\n    .string()\n    .integer()\n    .length(16)\n    .required('Card number is a requred field'),\n  expiry: yup.string().required('Expiry is a requred field'),\n  cvv: yup.string().integer().length(3).required('CVV is a requred field'),\n  cardHolder: yup.string(),\n  amount: yup.number().required('Amount is a requred field'),\n  currency: yup.string().required('You have to choose a currency'),\n});\n\nconst initialValues = {\n  cardNumber: '',\n  expiry: '',\n  cvv: '',\n  cardHolder: '',\n  amount: '',\n  currency: '',\n};\n\nconst NewCardForm = () => {\n  const cards = useSelector(state => state.cards);\n\n  const dispatch = useDispatch();\n\n  const handleSubmit = (values, actions) => {\n    const currentNumbers = cards.map(card => card.cardNumber);\n\n    currentNumbers.includes(values.cardNumber) &&\n      alert('You already have card with the same number');\n\n    !currentNumbers.includes(values.cardNumber) &&\n      dispatch(\n        reduxActions.addCard(\n          values.amount,\n          values.cardHolder,\n          values.cardNumber,\n          values.currency,\n          values.cvv,\n          values.expiry\n        )\n      );\n    console.log(values, actions);\n    actions.resetForm();\n  };\n\n  return (\n    <>\n      <Title title=\"Adding Cards\" />\n      <Formik\n        initialValues={initialValues}\n        validationSchema={schema}\n        onSubmit={handleSubmit}\n      >\n        <Form className={s.form}>\n          <div className={s.fieldWrapper}>\n            <Field\n              className={`${s.input} ${s.cardNumberInput}`}\n              id=\"cardNumber\"\n              name=\"cardNumber\"\n              placeholder=\"XXXX-XXXX-XXXX-XXXX\"\n            />\n            <ErrorMessage\n              className={s.errorMessage}\n              name=\"cardNumber\"\n              component=\"div\"\n            />\n          </div>\n\n          <div className={s.fieldWrapper}>\n            <Field\n              className={`${s.input} ${s.expiryInput}`}\n              id=\"expire\"\n              name=\"expiry\"\n              type=\"month\"\n              min=\"2022-09\"\n              max=\"2030-12\"\n            />\n            <ErrorMessage\n              className={s.errorMessage}\n              name=\"expiry\"\n              component=\"div\"\n            />\n          </div>\n\n          <div className={s.fieldWrapper}>\n            <Field\n              className={`${s.input} ${s.cvvInput}`}\n              id=\"cvv\"\n              name=\"cvv\"\n              placeholder=\"CVV\"\n            />\n            <ErrorMessage\n              className={s.errorMessage}\n              name=\"cvv\"\n              component=\"div\"\n            />\n          </div>\n\n          <div className={s.fieldWrapper}>\n            <Field\n              className={`${s.input} ${s.cardHolderInput}`}\n              id=\"cardHolder\"\n              name=\"cardHolder\"\n              placeholder=\"Card Holder Name\"\n            />\n          </div>\n\n          <div className={s.fieldWrapper}>\n            <Field\n              className={`${s.input} ${s.amountInput}`}\n              id=\"amount\"\n              name=\"amount\"\n              placeholder=\"Amount\"\n            />\n            <ErrorMessage\n              className={s.errorMessage}\n              name=\"amount\"\n              component=\"div\"\n            />\n          </div>\n\n          <div className={s.fieldWrapper}>\n            <Field\n              className={s.input}\n              as=\"select\"\n              id=\"currency\"\n              name=\"currency\"\n            >\n              <option className={s.option} value=\"\">\n                Select a currency\n              </option>\n              <option className={s.option} value=\"UAH\">\n                UAH\n              </option>\n              <option className={s.option} value=\"USD\">\n                USD\n              </option>\n              <option className={s.option} value=\"EUR\">\n                EUR\n              </option>\n            </Field>\n            <ErrorMessage\n              className={s.errorMessage}\n              name=\"currency\"\n              component=\"div\"\n            />\n          </div>\n\n          <div className={s.buttonsWrapper}>\n            <button className={s.formBtn} type=\"submit\">\n              Add Card\n            </button>\n            <button className={`${s.formBtn} ${s.cancelBtn}`} type=\"reset\">\n              Cancel\n            </button>\n          </div>\n        </Form>\n      </Formik>\n    </>\n  );\n};\n\nexport default NewCardForm;\n","import NewCardForm from 'components/NewCardForm';\n\nconst AddCardPage = () => {\n  return <NewCardForm />;\n};\n\nexport default AddCardPage;\n"],"names":["yup","this","matches","schema","shape","cardNumber","integer","length","required","expiry","cvv","cardHolder","amount","currency","initialValues","cards","useSelector","state","dispatch","useDispatch","Title","title","validationSchema","onSubmit","values","actions","currentNumbers","map","card","includes","alert","reduxActions","console","log","resetForm","className","s","id","name","placeholder","component","type","min","max","as","value"],"sourceRoot":""}