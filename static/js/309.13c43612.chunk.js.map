{"version":3,"file":"static/js/309.13c43612.chunk.js","mappings":"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","sources":["webpack://e-wallet-project/./src/components/CardDetails/CardDetails.module.scss?30bf","components/CardDetails/Card.jsx","components/CardDetails/CardDetails.jsx","pages/HomePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsWrapper\":\"CardDetails_detailsWrapper__TvTsQ\",\"buttonsWrapper\":\"CardDetails_buttonsWrapper__-Q2oY\",\"controlLink\":\"CardDetails_controlLink__WbxMm\",\"controlBtn\":\"CardDetails_controlBtn__ZPI9Z\",\"cardsList\":\"CardDetails_cardsList__JcvUa\",\"cardItem\":\"CardDetails_cardItem__mjcUq\",\"cardBlock\":\"CardDetails_cardBlock__aYJdB\",\"cardHeader\":\"CardDetails_cardHeader__U780S\",\"cardFooter\":\"CardDetails_cardFooter__qeXNg\",\"deleteCardBtn\":\"CardDetails_deleteCardBtn__JxeHV CardDetails_controlBtn__ZPI9Z\",\"cardNumberWrapper\":\"CardDetails_cardNumberWrapper__y9iJk\",\"cardNumber\":\"CardDetails_cardNumber__qzF-1\",\"copyIcon\":\"CardDetails_copyIcon__PG1hV\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { FiCopy } from 'react-icons/fi';\nimport ReactTooltip from 'react-tooltip';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\n\nimport { useGetCardInfoQuery } from 'redux/cardInfo/cardInfoSlice';\nimport visaLogo from 'pics/visa-logo.png';\nimport mastercardLogo from 'pics/mastercard-logo.png';\nimport s from './CardDetails.module.scss';\n\nconst Card = ({ cardNumber, cardHolder, expiry }) => {\n  const [tooltip, showTooltip] = useState(true);\n  const [isCopied, setIsCopied] = useState(false);\n  const [isShowNumber, setIsShowNumber] = useState(false);\n\n  const splittedCardNum = cardNumber.match(/.{4}/g).join(' ');\n\n  const getHiddenNumber = () => {\n    const array = cardNumber.split('');\n    for (let i = 0; i < array.length; i += 1) {\n      if (i >= 4 && i < 12) {\n        array[i] = '*';\n      }\n    }\n    return array.join('').match(/.{4}/g).join(' ');\n  };\n\n  const hiddenNumber = getHiddenNumber();\n\n  isCopied &&\n    toast.success('Card number is successfully copied', {\n      toastId: 'success1',\n    });\n\n  const {\n    data: additionalCardData,\n    isSuccess,\n    error,\n  } = useGetCardInfoQuery(cardNumber);\n\n  error &&\n    toast.error(\n      `Error ${JSON.stringify(\n        error.status\n      )}, additional card data is not available`,\n      {\n        toastId: 'error1',\n      }\n    );\n\n  return (\n    isSuccess &&\n    !error && (\n      <>\n        <div className={s.cardBlock}>\n          <div className={s.cardHeader}>\n            {additionalCardData.bank && (\n              <p className={s.bankName}>{additionalCardData.bank.name}</p>\n            )}\n            {additionalCardData.type && (\n              <p className={s.typeCard}>{additionalCardData.type}</p>\n            )}\n          </div>\n          {/* {!isShowNumber && (\n            <p\n              data-tip=\"click to show all number\"\n              onMouseEnter={() => showTooltip(true)}\n              onMouseLeave={() => {\n                showTooltip(false);\n                setTimeout(() => showTooltip(true), 50);\n              }}\n              className={s.cardNumber}\n              onMouseDown={() => setIsShowNumber(prev => !prev)}\n            >\n              {hiddenNumber}\n            </p>\n          )} */}\n          {/* {isShowNumber && */}\n\n          <div className={s.cardNumberWrapper}>\n            <p\n              data-tip=\"click to show or hide number\"\n              onMouseEnter={() => showTooltip(true)}\n              onMouseLeave={() => {\n                showTooltip(false);\n                setTimeout(() => showTooltip(true), 50);\n              }}\n              className={s.cardNumber}\n              onMouseDown={() => setIsShowNumber(prev => !prev)}\n            >\n              {isShowNumber ? splittedCardNum : hiddenNumber}\n            </p>\n            <CopyToClipboard text={cardNumber} onCopy={() => setIsCopied(true)}>\n              <FiCopy\n                className={s.copyIcon}\n                data-tip=\"click to copy card number\"\n                onMouseEnter={() => showTooltip(true)}\n                onMouseLeave={() => {\n                  showTooltip(false);\n                  setTimeout(() => showTooltip(true), 50);\n                }}\n              />\n            </CopyToClipboard>\n          </div>\n\n          <div className={s.cardFooter}>\n            <div className={s.footerLeftBlock}>\n              {cardHolder && <p className={s.cardHolder}>{cardHolder}</p>}\n              {expiry && (\n                <p className={s.expiry}>{expiry.split('-').join('/')}</p>\n              )}\n            </div>\n            <div className={s.footerLeftBlock}>\n              {additionalCardData.scheme &&\n                additionalCardData.scheme === 'visa' && (\n                  <img src={visaLogo} alt=\"payment system logo\" width=\"50\" />\n                )}\n              {additionalCardData.scheme &&\n                additionalCardData.scheme === 'mastercard' && (\n                  <img\n                    src={mastercardLogo}\n                    alt=\"payment system logo\"\n                    width=\"50\"\n                  />\n                )}\n              {additionalCardData.scheme &&\n                additionalCardData.scheme !== 'visa' &&\n                additionalCardData.scheme !== 'mastercard' && (\n                  <p>{additionalCardData.scheme}</p>\n                )}\n            </div>\n          </div>\n        </div>\n        {tooltip && <ReactTooltip type=\"light\" />}\n      </>\n    )\n  );\n};\n\nCard.propTypes = {\n  cardNumber: PropTypes.string.isRequired,\n  cardHolder: PropTypes.string,\n  expiry: PropTypes.string.isRequired,\n};\n\nexport default Card;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux/es/exports';\nimport { Link } from 'react-router-dom';\n\nimport * as reduxActions from 'redux/actions';\nimport Modal from 'components/Modal';\nimport Title from 'components/Title';\nimport Card from './Card';\nimport s from './CardDetails.module.scss';\n\nconst CardDetails = () => {\n  const cards = useSelector(state => state.wallet.cards);\n\n  const dispatch = useDispatch();\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const openModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const onDeleteCard = cardId => {\n    dispatch(reduxActions.deleteCard(cardId));\n  };\n\n  return (\n    <>\n      <Title title=\"Details\" />\n      <div className={s.detailsWrapper}>\n        <div className={s.buttonsWrapper}>\n          <Link className={s.controlLink} to=\"/add-card\">\n            <button type=\"button\" className={s.controlBtn}>\n              Add Card\n            </button>\n          </Link>\n          <Link className={s.controlLink} to=\"/edit-cash\" onClick={openModal}>\n            <button type=\"button\" className={s.controlBtn}>\n              Edit Cash\n            </button>\n          </Link>\n        </div>\n\n        <ul className={s.cardsList}>\n          {cards &&\n            cards.map(card => (\n              <li key={card.id} className={s.cardItem}>\n                <Card\n                  cardNumber={card.cardNumber}\n                  cardHolder={card.cardHolder}\n                  expiry={card.expiry}\n                />\n                <button\n                  className={s.deleteCardBtn}\n                  type=\"button\"\n                  onClick={() => onDeleteCard(card.id)}\n                >\n                  Remove\n                </button>\n              </li>\n            ))}\n        </ul>\n      </div>\n      {isModalOpen && <Modal onClose={closeModal} />}\n    </>\n  );\n};\n\nexport default CardDetails;\n","import CardDetails from 'components/CardDetails';\n\nconst HomePage = () => {\n  return <CardDetails />;\n};\n\nexport default HomePage;\n"],"names":["cardNumber","cardHolder","expiry","useState","tooltip","showTooltip","isCopied","setIsCopied","isShowNumber","setIsShowNumber","splittedCardNum","match","join","hiddenNumber","array","split","i","length","getHiddenNumber","toast","toastId","useGetCardInfoQuery","additionalCardData","data","isSuccess","error","JSON","stringify","status","className","s","bank","name","type","onMouseEnter","onMouseLeave","setTimeout","onMouseDown","prev","CopyToClipboard","text","onCopy","scheme","src","visaLogo","alt","width","mastercardLogo","cards","useSelector","state","wallet","dispatch","useDispatch","isModalOpen","setIsModalOpen","Title","title","to","onClick","map","card","cardId","id","reduxActions","Modal","onClose"],"sourceRoot":""}